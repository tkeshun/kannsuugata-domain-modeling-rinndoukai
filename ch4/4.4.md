## 4.4 F#の型を扱う

* 型の定義や値の代入・参照、判別共用体の使い方を示す
* F#の型をGoでどう表現するかも示す

> F#の場合

```F#
// 型の定義
type Person = { First:string; Last:string }
// 値の代入
let aPerson = { First="Taro"; Last="Yamada" }
// 値の参照
let first = aPerson.First
let last = aPerson.Last

// 判別共用体
// caseLabel of type で定義
type OrderQuantity = 
    | UnitQuantity of int
    | KilogramQuantity of decimal
// 値の代入
let anOrderQtyInUnits = UnitQuantity 10
let anOrderQtyInKg = KilogramQuantity 2.5
// パターン分解
let printQuantity aOrderQty =
    match aOrderQty with
    | UnitQuantity qty -> printfn "%i units" qty
    | KilogramQuantity qty -> printfn "g %f kg" qty
printQuantity anOrderQtyInUnits // "10 units"
printQuantity anOrderQtyInKg // "2.5 kg"
```

> Goの場合

```go
package main

import (
	"fmt"
)

// 型の定義
type Person struct {
	First string
	Last  string
}
// 値の代入
aPerson := Person{First: "Taro", Last: "Yamada"}
// 値の参照
first := aPerson.First
last := aPerson.Last

// 判別共用体の代用でインターフェースを使う
type OrderQuantity interface{}
type (
	UnitQuantity     struct{ Qty int }
	KilogramQuantity struct{ Qty float64 }
)
func PrintQuantity(aOrderQty OrderQuantity) {
	switch v := aOrderQty.(type) {
	case UnitQuantity:
		fmt.Printf("%d units\n", v.Qty)
	case KilogramQuantity:
		fmt.Printf("%f kg\n", v.Qty)
	default:
		fmt.Println("Unknown quantity type")
	}
}
```
