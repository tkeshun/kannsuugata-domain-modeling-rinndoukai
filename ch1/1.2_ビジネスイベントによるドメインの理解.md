## ビジネスイベントによるドメインの理解

DDD のアプローチでは**開発者とドメインエキスパートの間で共通の理解を築くこと**を重視する

### データ構造ではなくビジネスイベントやワークフローに焦点を当てる

- ビジネスは単にデータを持っているだけでなくデータを**変換**している
- ビジネスの価値はデータの変換の過程で生み出される
- データの変換がどのように機能し、互いにどのように関係しているかを理解することが重要

データは**ドメインイベント**によって変換される  
ドメインインベントはモデル化したいビジネスプロセスの出発点となる

ドメインイベント：ビジネス領域で何らかの「意味のある出来事」が起こったことを表現するオブジェクトや通知のこと

### イベントストーミングによるドメインの探索

イベントは**イベントストーミング**で発見する

イベントストーミング：ソフトウェア開発におけるワークショップ形式の手法。付箋やホワイトボードを使って、システム内で発生するイベントを時系列に沿って視覚的に配置し、関係者全員がシステムの動作を直感的に理解できるようにする作業

### ドメインを探索する：受注システム

イベントストーミングの具体例なので割愛（p.10 参照）  
ポイントは以下

- ドメインエキスパートと開発者が共通の理解を持つことを重視して取り組む
- ビジネスチームの全体を把握する
- 要件のギャップを発見する
  - ドメインエキスパート自身も把握しきれていない要件があるかもしれない
- ビジネスチーム間の連携を確認する
  - どこからどこまでが A チームの仕事でどこからどこまでが B チームの仕事か

### イベントを端まで広げる

左端のイベントを引き起こすイベントがないか、右端のイベントが引き起こすイベントがないかを確認して抜け漏れをチェック

### コマンドの文書化

イベントを壁に貼ったら、**これらのイベントを引き起こすものは何か**を問う->**コマンド**  
コマンドは「XX する」と表現し、ドメインイベントは「XX した/XX された」と表現する

![](./img/command.drawio.svg)
